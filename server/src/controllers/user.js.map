{"version":3,"sources":["user.js"],"names":["userById","req","res","next","id","User","findById","user","match","status","json","msg","profile","console","error","read","password","undefined","authRead","log","_id","message"],"mappings":";;;;;;;;;;;;;AAAA;;AAGO,IAAMA,QAAQ;AAAA,2FAAG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,EAAuBC,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEGC,iBAAKC,QAAL,CAAcF,EAAd,CAFH;;AAAA;AAEVG,YAAAA,IAFU;;AAAA,kBAGZ,CAACH,EAAE,CAACI,KAAH,CAAS,mBAAT,CAAD,IAAkC,CAACD,IAHvB;AAAA;AAAA;AAAA;;AAAA,6CAILL,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,cAAAA,GAAG,EAAE;AADmB,aAArB,CAJK;;AAAA;AAShBV,YAAAA,GAAG,CAACW,OAAJ,GAAcL,IAAd;AACAJ,YAAAA,IAAI;AAVY;AAAA;;AAAA;AAAA;AAAA;AAYhBU,YAAAA,OAAO,CAACC,KAAR;AAZgB,6CAaTZ,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,cAAAA,GAAG,EAAE;AADmB,aAArB,CAbS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARX,QAAQ;AAAA;AAAA;AAAA,GAAd;;;;AAmBA,IAAMe,IAAI,GAAG,SAAPA,IAAO,CAACd,GAAD,EAAMC,GAAN,EAAc;AAC9BD,EAAAA,GAAG,CAACW,OAAJ,CAAYI,QAAZ,GAAuBC,SAAvB;AACA,SAAOf,GAAG,CAACQ,IAAJ,CAAST,GAAG,CAACW,OAAb,CAAP;AACH,CAHM;;;;AAKA,IAAMM,QAAQ;AAAA,4FAAG,kBAAOjB,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEhBW,YAAAA,OAAO,CAACM,GAAR,CAAYlB,GAAG,CAACM,IAAJ,CAASa,GAArB;AAFgB;AAAA,mBAGGf,iBAAKC,QAAL,CAAcL,GAAG,CAACM,IAAJ,CAASa,GAAvB,CAHH;;AAAA;AAGVb,YAAAA,IAHU;AAIhBA,YAAAA,IAAI,CAACS,QAAL,GAAgBC,SAAhB;AACAf,YAAAA,GAAG,CAACQ,IAAJ,CAASH,IAAT;AALgB;AAAA;;AAAA;AAAA;AAAA;AAOhBM,YAAAA,OAAO,CAACC,KAAR,CAAc,aAAIO,OAAlB;AAPgB,8CAQTnB,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,cAAAA,GAAG,EAAE;AADmB,aAArB,CARS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARO,QAAQ;AAAA;AAAA;AAAA,GAAd","sourcesContent":["import User from '../models/User';\r\n\r\n\r\nexport const userById = async (req, res, next, id) => {\r\n    try {\r\n        const user = await User.findById(id);\r\n        if (!id.match(/^[0-9a-fA-F]{24}$/) || !user) {\r\n            return res.status(404).json({\r\n                msg: 'User not found'\r\n            });\r\n        }\r\n\r\n        req.profile = user;\r\n        next();\r\n    } catch (err) {\r\n        console.error(err);\r\n        return res.status(400).json({\r\n            msg: 'Server Error'\r\n        });\r\n    }\r\n};\r\n\r\nexport const read = (req, res) => {\r\n    req.profile.password = undefined;\r\n    return res.json(req.profile);\r\n};\r\n\r\nexport const authRead = async (req, res) => {\r\n    try {\r\n        console.log(req.user._id);\r\n        const user = await User.findById(req.user._id);\r\n        user.password = undefined;\r\n        res.json(user);\r\n    } catch (err) {\r\n        console.error(err.message);\r\n        return res.status(400).json({\r\n            msg: 'server error'\r\n        });\r\n    }\r\n}"],"file":"user.js"}